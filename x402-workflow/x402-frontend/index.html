<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PayPerie Reader</title>
  <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="logo">
        <span class="logo-icon">ğŸ“š</span>
        <div>
          <h1>PayPerie Reader</h1>
          <p class="tagline">æŒ‰é¡µä»˜è´¹ Â· x402 Â· USDC</p>
        </div>
      </div>
      <div class="header-actions">
        <div class="status">
          <span class="status-dot" id="status-merchant"></span>
          <span>Merchant</span>
        </div>
        <div class="status">
          <span class="status-dot" id="status-facilitator"></span>
          <span>Facilitator</span>
        </div>
        <div class="wallet-connect">
          <input type="password" id="privateKey" placeholder="è¾“å…¥ç§é’¥ (0x...)" />
          <button id="connectBtn" class="btn">è¿æ¥é’±åŒ…</button>
        </div>
        <div id="walletInfo" class="wallet-info hidden">
          <span id="walletAddress" class="mono"></span>
          <span id="usdcBalance" class="mono"></span>
        </div>
      </div>
    </header>

    <main class="layout">
      <section class="panel author-panel">
        <h3>Author Zone</h3>
        <p class="muted">ä¸Šä¼  PDFï¼ŒæŒ‰é¡µå”®å–</p>
        <form id="uploadForm" class="form-grid">
          <label class="field">
            <span>PDF æ–‡ä»¶</span>
            <input type="file" id="uploadFile" accept="application/pdf" required />
          </label>
          <label class="field">
            <span>æ ‡é¢˜</span>
            <input type="text" id="uploadTitle" placeholder="ä¹¦åæˆ–ç« èŠ‚" required />
          </label>
          <label class="field">
            <span>æ¯é¡µä»·æ ¼ (USDC)</span>
            <input type="number" id="uploadPrice" step="0.000001" min="0.000001" value="0.01" required />
          </label>
          <label class="field">
            <span>ä½œè€…åœ°å€</span>
            <input type="text" id="uploadAuthor" placeholder="0x..." required />
          </label>
          <button type="submit" class="btn primary">Publish to PayPerie</button>
          <div id="uploadStatus" class="status-text"></div>
        </form>
      </section>

      <section class="panel reader-panel">
        <div class="reader-header">
          <div>
            <p class="muted">Reader</p>
            <h3 id="readerTitle">é€‰æ‹©ä¹¦ç±å¼€å§‹é˜…è¯»</h3>
          </div>
          <div class="reader-meta">
            <span id="readerStatus">Payment Status: Locked</span>
            <span id="readerPage">Page -</span>
          </div>
        </div>
        <div class="viewer">
          <embed id="pdfViewer" type="application/pdf" src="" />
          <div id="viewerPlaceholder" class="placeholder">æœªåŠ è½½é¡µé¢</div>
        </div>
        <div class="reader-controls">
          <button id="prevPage" class="btn" disabled>Prev Page</button>
          <button id="nextPage" class="btn" disabled>Next Page</button>
        </div>
      </section>

      <section class="panel library-panel">
        <div class="library-header">
          <h3>Library</h3>
          <button id="refreshLibrary" class="btn">åˆ·æ–°</button>
        </div>
        <div id="libraryList" class="library-list">
          <p class="muted">è¿æ¥é’±åŒ…ä»¥åŠ è½½ä¹¦åº“</p>
        </div>
      </section>
    </main>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
